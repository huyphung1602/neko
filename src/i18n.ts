import { createI18n } from 'vue-i18n';

// Simple i18n without type constraints to avoid issues
const messages: Record<string, Record<string, string>> = {
  en: {
    app_title: 'Neko',
    app_welcome: 'Welcome back!',
    app_ready: 'Ready to review your cards?',
    nav_home: 'Home',
    nav_decks: 'Decks',
    nav_review: 'Review',
    nav_add_card: 'Add Card',
    nav_settings: 'Settings',
    nav_light: 'Light Mode',
    nav_dark: 'Dark Mode',
    stats_due: 'Due Today',
    stats_total: 'Total Cards',
    stats_new: 'New Cards',
    stats_decks: 'Decks',
    deck_title: 'Decks',
    deck_subtitle: 'Organize your cards into decks',
    deck_no_decks: 'No decks yet',
    deck_no_decks_desc: 'Create your first deck to organize your cards',
    deck_create: 'Create Deck',
    deck_new: 'New Deck',
    deck_name: 'Deck Name',
    deck_parent: 'Parent Deck (optional)',
    deck_no_parent: 'No parent (root deck)',
    deck_cards: 'cards',
    deck_review: 'Review Deck',
    deck_delete: 'Delete deck',
    deck_edit: 'Edit name',
    deck_save: 'Save',
    deck_cancel: 'Cancel',
    card_no_cards: 'No cards yet',
    card_no_cards_desc: 'Add your first card to this deck',
    card_search: 'Search cards...',
    card_front: 'FRONT',
    card_back: 'BACK',
    card_tags: 'TAGS',
    card_details: 'Card Details',
    card_add: 'Add Card',
    card_edit: 'Edit',
    card_delete: 'Delete',
    card_add_review: 'Add to Review',
    card_front_req: 'Front required',
    card_ready: 'Ready',
    card_front_placeholder: 'Front side...',
    card_back_placeholder: 'Back side...',
    review_title: 'Review',
    review_due: 'cards due for review',
    review_no_due: 'No cards due for review',
    review_flip: 'Tap to flip',
    review_again: 'Again',
    review_hard: 'Hard',
    review_good: 'Good',
    review_easy: 'Easy',
    review_complete: 'Review Complete!',
    review_correct: 'Correct',
    review_incorrect: 'Incorrect',
    review_restart: 'Start New Review',
    home_started: 'Get started with your first deck',
    home_started_desc: 'Create a deck and add some cards to start learning',
    home_first: 'Create Your First Card',
    home_decks: 'Your Decks',
    home_see_all: 'See all',
    home_browse: 'Browse Decks',
    home_available: 'decks available',
    common_cancel: 'Cancel',
    common_create: 'Create',
    common_update: 'Update',
    common_delete: 'Delete',
    common_edit: 'Edit',
    common_save: 'Save',
    common_yes: 'Yes',
    common_no: 'No',
    common_confirm: 'Confirm'
  },
  vi: {
    app_title: 'Neko',
    app_welcome: 'Chào mừng trở lại!',
    app_ready: 'Sẵn sàng ôn tập thẻ của bạn?',
    nav_home: 'Trang chủ',
    nav_decks: 'Bộ thẻ',
    nav_review: 'Ôn tập',
    nav_add_card: 'Thêm thẻ',
    nav_settings: 'Cài đặt',
    nav_light: 'Chế độ sáng',
    nav_dark: 'Chế độ tối',
    stats_due: 'Đến hạn hôm nay',
    stats_total: 'Tổng số thẻ',
    stats_new: 'Thẻ mới',
    stats_decks: 'Bộ thẻ',
    deck_title: 'Bộ thẻ',
    deck_subtitle: 'Sắp xếp thẻ của bạn thành các bộ',
    deck_no_decks: 'Chưa có bộ thẻ nào',
    deck_no_decks_desc: 'Tạo bộ thẻ đầu tiên để sắp xếp thẻ của bạn',
    deck_create: 'Tạo bộ thẻ',
    deck_new: 'Bộ thẻ mới',
    deck_name: 'Tên bộ thẻ',
    deck_parent: 'Bộ thẻ cha (tùy chọn)',
    deck_no_parent: 'Không có (bộ thẻ gốc)',
    deck_cards: 'thẻ',
    deck_review: 'Ôn tập bộ này',
    deck_delete: 'Xóa bộ thẻ',
    deck_edit: 'Sửa tên',
    deck_save: 'Lưu',
    deck_cancel: 'Hủy',
    card_no_cards: 'Chưa có thẻ nào',
    card_no_cards_desc: 'Thêm thẻ đầu tiên vào bộ này',
    card_search: 'Tìm kiếm thẻ...',
    card_front: 'MẶT TRƯỚC',
    card_back: 'MẶT SAU',
    card_tags: 'THẺ NHÃN',
    card_details: 'Chi tiết thẻ',
    card_add: 'Thêm thẻ',
    card_edit: 'Sửa',
    card_delete: 'Xóa',
    card_add_review: 'Thêm vào ôn tập',
    card_front_req: 'Cần nhập mặt trước',
    card_ready: 'Sẵn sàng',
    card_front_placeholder: 'Mặt trước...',
    card_back_placeholder: 'Mặt sau...',
    review_title: 'Ôn tập',
    review_due: 'thẻ cần ôn tập',
    review_no_due: 'Không có thẻ cần ôn tập',
    review_flip: 'Nhấn để lật',
    review_again: 'Lại',
    review_hard: 'Khó',
    review_good: 'Tốt',
    review_easy: 'Dễ',
    review_complete: 'Hoàn thành ôn tập!',
    review_correct: 'Đúng',
    review_incorrect: 'Sai',
    review_restart: 'Bắt đầu ôn tập mới',
    home_started: 'Bắt đầu với bộ thẻ đầu tiên',
    home_started_desc: 'Tạo một bộ thẻ và thêm thẻ để bắt đầu học',
    home_first: 'Tạo thẻ đầu tiên',
    home_decks: 'Các bộ thẻ của bạn',
    home_see_all: 'Xem tất cả',
    home_browse: 'Duyệt bộ thẻ',
    home_available: 'bộ thẻ có sẵn',
    common_cancel: 'Hủy',
    common_create: 'Tạo',
    common_update: 'Cập nhật',
    common_delete: 'Xóa',
    common_edit: 'Sửa',
    common_save: 'Lưu',
    common_yes: 'Có',
    common_no: 'Không',
    common_confirm: 'Xác nhận'
  }
};

const savedLocale = localStorage.getItem('locale') || navigator.language.split('-')[0] || 'en';
const validLocales = ['en', 'vi'];
const locale = validLocales.includes(savedLocale) ? savedLocale : 'en';

// Save the locale
localStorage.setItem('locale', locale);

export const i18n = createI18n({
  legacy: false,
  locale,
  fallbackLocale: 'en',
  messages
});

export { locale };
